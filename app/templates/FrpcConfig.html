<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>frp配置文件</title>
    <meta name="keywords" content="frp内网穿透，frp github，frp文件，frpc配置教程，frps下载，比ngrok更好用的内网穿透软件"/>
    <meta name="description" content="本网提供frp内网穿透教程，frp内网穿透程序下载，frp配置文件，免费frp服务器。"/>
    <link rel="stylesheet" href="//cdn.bootcss.com/bootswatch/3.3.1/simplex/bootstrap.min.css">
    <link rel="stylesheet" href="{{ url_for('static',filename='css/footer.css') }}">
</head>
<body>
<nav class="navbar navbar-inverse">
    <div class="container-fluid">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-2">
                <span class="sr-only">frp NAT</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/">Frp内网穿透教程</a>
        </div>

        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-2">
            <ul class="nav navbar-nav">
                <li class="active"><a href="/">主页<span class="sr-only">(current)</span></a></li>
                <li><a href="/FrpGithub.html">frp github地址</a></li>
                <li><a href="/FreeFrpServer.html">免费frp服务器</a></li>
                <li><a href="/FrpcConfig.html">frpc配置教程</a></li>
                <li><a href="/NAT-Download.html">内网穿透软件下载</a></li>
            </ul>
        </div>
    </div>
</nav>
<br>
<div class="row clearfix">
    <div class="col-md-3 column"></div>
    <div class="col-md-6 column">
        <div class="jumbotron">
            <div id="readme" class="readme blob instapaper_body">
                <article class="markdown-body entry-content" itemprop="text"><h1><a href="#frp" aria-hidden="true" class="anchor" id="user-content-frp"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>frp</h1>
                    <p><a href="https://travis-ci.org/fatedier/frp"><img src="https://camo.githubusercontent.com/6295f2374bc4cfaab78fb2a9bf1992fcdbb3c7b9/68747470733a2f2f7472617669732d63692e6f72672f66617465646965722f6672702e7376673f6272616e63683d6d6173746572" alt="Build Status" data-canonical-src="https://travis-ci.org/fatedier/frp.svg?branch=master" style="max-width:100%;"></a></p>
                    <p>frp 是一个可用于内网穿透的高性能的反向代理应用，支持 tcp, udp, http, https 协议。</p>
                    <h2><a href="#目录" aria-hidden="true" class="anchor" id="user-content-目录"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>目录</h2>

                    <ul>
                        <li><a href="#frp-%E7%9A%84%E4%BD%9C%E7%94%A8">frp 的作用</a></li>
                        <li><a href="#%E5%BC%80%E5%8F%91%E7%8A%B6%E6%80%81">开发状态</a></li>
                        <li><a href="#%E6%9E%B6%E6%9E%84">架构</a></li>
                        <li><a href="#%E4%BD%BF%E7%94%A8%E7%A4%BA%E4%BE%8B">使用示例</a>
                            <ul>
                                <li><a href="#%E9%80%9A%E8%BF%87-ssh-%E8%AE%BF%E9%97%AE%E5%85%AC%E5%8F%B8%E5%86%85%E7%BD%91%E6%9C%BA%E5%99%A8">通过 ssh 访问公司内网机器</a></li>
                                <li><a href="#%E9%80%9A%E8%BF%87%E8%87%AA%E5%AE%9A%E4%B9%89%E5%9F%9F%E5%90%8D%E8%AE%BF%E9%97%AE%E9%83%A8%E7%BD%B2%E4%BA%8E%E5%86%85%E7%BD%91%E7%9A%84-web-%E6%9C%8D%E5%8A%A1">通过自定义域名访问部署于内网的 web 服务</a></li>
                                <li><a href="#%E8%BD%AC%E5%8F%91-dns-%E6%9F%A5%E8%AF%A2%E8%AF%B7%E6%B1%82">转发 DNS 查询请求</a></li>
                                <li><a href="#%E8%BD%AC%E5%8F%91-unix%E5%9F%9F%E5%A5%97%E6%8E%A5%E5%AD%97">转发 Unix域套接字</a></li>
                                <li><a href="#%E5%AE%89%E5%85%A8%E5%9C%B0%E6%9A%B4%E9%9C%B2%E5%86%85%E7%BD%91%E6%9C%8D%E5%8A%A1">安全地暴露内网服务</a></li>
                                <li><a href="#%E9%80%9A%E8%BF%87-frpc-%E6%89%80%E5%9C%A8%E6%9C%BA%E5%99%A8%E8%AE%BF%E9%97%AE%E5%A4%96%E7%BD%91">通过 frpc 所在机器访问外网</a></li>
                            </ul>
                        </li>
                        <li><a href="#%E5%8A%9F%E8%83%BD%E8%AF%B4%E6%98%8E">功能说明</a>
                            <ul>
                                <li><a href="#%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6">配置文件</a></li>
                                <li><a href="#dashboard">Dashboard</a></li>
                                <li><a href="#%E8%BA%AB%E4%BB%BD%E9%AA%8C%E8%AF%81">身份验证</a></li>
                                <li><a href="#%E5%8A%A0%E5%AF%86%E4%B8%8E%E5%8E%8B%E7%BC%A9">加密与压缩</a></li>
                                <li><a href="#%E5%AE%A2%E6%88%B7%E7%AB%AF%E7%83%AD%E5%8A%A0%E8%BD%BD%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6">客户端热加载配置文件</a></li>
                                <li><a href="#%E7%89%B9%E6%9D%83%E6%A8%A1%E5%BC%8F">特权模式</a>
                                    <ul>
                                        <li><a href="#%E7%AB%AF%E5%8F%A3%E7%99%BD%E5%90%8D%E5%8D%95">端口白名单</a></li>
                                    </ul>
                                </li>
                                <li><a href="#tcp-%E5%A4%9A%E8%B7%AF%E5%A4%8D%E7%94%A8">TCP 多路复用</a></li>
                                <li><a href="#%E5%BA%95%E5%B1%82%E9%80%9A%E4%BF%A1%E5%8F%AF%E9%80%89-kcp-%E5%8D%8F%E8%AE%AE">底层通信可选 kcp 协议</a></li>
                                <li><a href="#%E8%BF%9E%E6%8E%A5%E6%B1%A0">连接池</a></li>
                                <li><a href="#%E4%BF%AE%E6%94%B9-host-header">修改 Host Header</a></li>
                                <li><a href="#%E8%8E%B7%E5%8F%96%E7%94%A8%E6%88%B7%E7%9C%9F%E5%AE%9E-ip">获取用户真实 IP</a></li>
                                <li><a href="#%E9%80%9A%E8%BF%87%E5%AF%86%E7%A0%81%E4%BF%9D%E6%8A%A4%E4%BD%A0%E7%9A%84-web-%E6%9C%8D%E5%8A%A1">通过密码保护你的 web 服务</a></li>
                                <li><a href="#%E8%87%AA%E5%AE%9A%E4%B9%89%E4%BA%8C%E7%BA%A7%E5%9F%9F%E5%90%8D">自定义二级域名</a></li>
                                <li><a href="#url-%E8%B7%AF%E7%94%B1">URL 路由</a></li>
                                <li><a href="#%E9%80%9A%E8%BF%87%E4%BB%A3%E7%90%86%E8%BF%9E%E6%8E%A5-frps">通过代理连接 frps</a></li>
                                <li><a href="#%E6%8F%92%E4%BB%B6">插件</a></li>
                            </ul>
                        </li>
                        <li><a href="#%E5%BC%80%E5%8F%91%E8%AE%A1%E5%88%92">开发计划</a></li>
                        <li><a href="#%E4%B8%BA-frp-%E5%81%9A%E8%B4%A1%E7%8C%AE">为 frp 做贡献</a></li>
                        <li><a href="#%E6%8D%90%E5%8A%A9">捐助</a>
                            <ul>
                                <li><a href="#%E6%94%AF%E4%BB%98%E5%AE%9D%E6%89%AB%E7%A0%81%E6%8D%90%E8%B5%A0">支付宝扫码捐赠</a></li>
                                <li><a href="#%E5%BE%AE%E4%BF%A1%E6%94%AF%E4%BB%98%E6%8D%90%E8%B5%A0">微信支付捐赠</a></li>
                                <li><a href="#paypal-%E6%8D%90%E8%B5%A0">Paypal 捐赠</a></li>
                            </ul>
                        </li>
                    </ul>

                    <h2><a href="#frp-的作用" aria-hidden="true" class="anchor" id="user-content-frp-的作用"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>frp 的作用</h2>
                    <ul>
                        <li>利用处于内网或防火墙后的机器，对外网环境提供 http 或 https 服务。</li>
                        <li>对于 http, https 服务支持基于域名的虚拟主机，支持自定义域名绑定，使多个域名可以共用一个80端口。</li>
                        <li>利用处于内网或防火墙后的机器，对外网环境提供 tcp 和 udp 服务，例如在家里通过 ssh 访问处于公司内网环境内的主机。</li>
                    </ul>
                    <h2><a href="#开发状态" aria-hidden="true" class="anchor" id="user-content-开发状态"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>开发状态</h2>
                    <p>frp 仍然处于前期开发阶段，未经充分测试与验证，不推荐用于生产环境。</p>
                    <p>master 分支用于发布稳定版本，dev 分支用于开发，您可以尝试下载最新的 release 版本进行测试。</p>
                    <p><strong>目前的交互协议可能随时改变，不保证向后兼容，升级新版本时需要注意公告说明同时升级服务端和客户端。</strong></p>
                    <h2><a href="#架构" aria-hidden="true" class="anchor" id="user-content-架构"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>架构</h2>
                    <p><a href="/IoTServ/frp/blob/master/doc/pic/architecture.png" target="_blank"><img src="/IoTServ/frp/raw/master/doc/pic/architecture.png" alt="architecture" style="max-width:100%;"></a></p>
                    <h2><a href="#使用示例" aria-hidden="true" class="anchor" id="user-content-使用示例"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>使用示例</h2>
                    <p>根据对应的操作系统及架构，从 <a href="https://github.com/fatedier/frp/releases">Release</a> 页面下载最新版本的程序。</p>
                    <p>将 <strong>frps</strong> 及 <strong>frps.ini</strong> 放到具有公网 IP 的机器上。</p>
                    <p>将 <strong>frpc</strong> 及 <strong>frpc.ini</strong> 放到处于内网环境的机器上。</p>
                    <h3><a href="#通过-ssh-访问公司内网机器" aria-hidden="true" class="anchor" id="user-content-通过-ssh-访问公司内网机器"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>通过 ssh 访问公司内网机器</h3>
                    <ol>
                        <li>修改 frps.ini 文件，这里使用了最简化的配置：</li>
                    </ol>
                    <div class="highlight highlight-source-ini"><pre><span class="pl-c"><span class="pl-c">#</span> frps.ini</span>
<span class="pl-en">[common]</span>
<span class="pl-k">bind_port</span> = 7000</pre></div>
                    <ol start="2">
                        <li>启动 frps：</li>
                    </ol>
                    <p><code>./frps -c ./frps.ini</code></p>
                    <ol start="3">
                        <li>修改 frpc.ini 文件，假设 frps 所在服务器的公网 IP 为 x.x.x.x；</li>
                    </ol>
                    <div class="highlight highlight-source-ini"><pre><span class="pl-c"><span class="pl-c">#</span> frpc.ini</span>
<span class="pl-en">[common]</span>
<span class="pl-k">server_addr</span> = x.x.x.x
<span class="pl-k">server_port</span> = 7000

<span class="pl-en">[ssh]</span>
<span class="pl-k">type</span> = tcp
<span class="pl-k">local_ip</span> = 127.0.0.1
<span class="pl-k">local_port</span> = 22
<span class="pl-k">remote_port</span> = 6000</pre></div>
                    <ol start="4">
                        <li>启动 frpc：</li>
                    </ol>
                    <p><code>./frpc -c ./frpc.ini</code></p>
                    <ol start="5">
                        <li>通过 ssh 访问内网机器，假设用户名为 test：</li>
                    </ol>
                    <p><code>ssh -oPort=6000 test@x.x.x.x</code></p>
                    <h3><a href="#通过自定义域名访问部署于内网的-web-服务" aria-hidden="true" class="anchor" id="user-content-通过自定义域名访问部署于内网的-web-服务"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>通过自定义域名访问部署于内网的 web 服务</h3>
                    <p>有时想要让其他人通过域名访问或者测试我们在本地搭建的 web 服务，但是由于本地机器没有公网 IP，无法将域名解析到本地的机器，通过 frp 就可以实现这一功能，以下示例为 http 服务，https 服务配置方法相同， vhost_http_port 替换为 vhost_https_port， type 设置为 https 即可。</p>
                    <ol>
                        <li>修改 frps.ini 文件，设置 http 访问端口为 8080：</li>
                    </ol>
                    <div class="highlight highlight-source-ini"><pre><span class="pl-c"><span class="pl-c">#</span> frps.ini</span>
<span class="pl-en">[common]</span>
<span class="pl-k">bind_port</span> = 7000
<span class="pl-k">vhost_http_port</span> = 8080</pre></div>
                    <ol start="2">
                        <li>启动 frps；</li>
                    </ol>
                    <p><code>./frps -c ./frps.ini</code></p>
                    <ol start="3">
                        <li>修改 frpc.ini 文件，假设 frps 所在的服务器的 IP 为 x.x.x.x，local_port 为本地机器上 web 服务对应的端口, 绑定自定义域名 <code>www.yourdomain.com</code>:</li>
                    </ol>
                    <div class="highlight highlight-source-ini"><pre><span class="pl-c"><span class="pl-c">#</span> frpc.ini</span>
<span class="pl-en">[common]</span>
<span class="pl-k">server_addr</span> = x.x.x.x
<span class="pl-k">server_port</span> = 7000

<span class="pl-en">[web]</span>
<span class="pl-k">type</span> = http
<span class="pl-k">local_port</span> = 80
<span class="pl-k">custom_domains</span> = www.yourdomain.com</pre></div>
                    <ol start="4">
                        <li>启动 frpc：</li>
                    </ol>
                    <p><code>./frpc -c ./frpc.ini</code></p>
                    <ol start="5">
                        <li>
                            <p>将 <code>www.yourdomain.com</code> 的域名 A 记录解析到 IP <code>x.x.x.x</code>，如果服务器已经有对应的域名，也可以将 CNAME 记录解析到服务器原先的域名。</p>
                        </li>
                        <li>
                            <p>通过浏览器访问 <code>http://www.yourdomain.com:8080</code> 即可访问到处于内网机器上的 web 服务。</p>
                        </li>
                    </ol>
                    <h3><a href="#转发-dns-查询请求" aria-hidden="true" class="anchor" id="user-content-转发-dns-查询请求"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>转发 DNS 查询请求</h3>
                    <p>DNS 查询请求通常使用 UDP 协议，frp 支持对内网 UDP 服务的穿透，配置方式和 TCP 基本一致。</p>
                    <ol>
                        <li>修改 frps.ini 文件：</li>
                    </ol>
                    <div class="highlight highlight-source-ini"><pre><span class="pl-c"><span class="pl-c">#</span> frps.ini</span>
<span class="pl-en">[common]</span>
<span class="pl-k">bind_port</span> = 7000</pre></div>
                    <ol start="2">
                        <li>启动 frps：</li>
                    </ol>
                    <p><code>./frps -c ./frps.ini</code></p>
                    <ol start="3">
                        <li>修改 frpc.ini 文件，设置 frps 所在服务器的 IP 为 x.x.x.x，转发到 Google 的 DNS 查询服务器 <code>8.8.8.8</code> 的 udp 53 端口：</li>
                    </ol>
                    <div class="highlight highlight-source-ini"><pre><span class="pl-c"><span class="pl-c">#</span> frpc.ini</span>
<span class="pl-en">[common]</span>
<span class="pl-k">server_addr</span> = x.x.x.x
<span class="pl-k">server_port</span> = 7000

<span class="pl-en">[dns]</span>
<span class="pl-k">type</span> = udp
<span class="pl-k">local_ip</span> = 8.8.8.8
<span class="pl-k">local_port</span> = 53
<span class="pl-k">remote_port</span> = 6000</pre></div>
                    <ol start="4">
                        <li>启动 frpc：</li>
                    </ol>
                    <p><code>./frpc -c ./frpc.ini</code></p>
                    <ol start="5">
                        <li>通过 dig 测试 UDP 包转发是否成功，预期会返回 <code>www.google.com</code> 域名的解析结果：</li>
                    </ol>
                    <p><code>dig @x.x.x.x -p 6000 www.goolge.com</code></p>
                    <h3><a href="#转发-unix域套接字" aria-hidden="true" class="anchor" id="user-content-转发-unix域套接字"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>转发 Unix域套接字</h3>
                    <p>通过 tcp 端口访问内网的 unix域套接字(和 docker daemon 通信)。</p>
                    <p>frps 的部署步骤同上。</p>
                    <ol>
                        <li>启动 frpc，启用 unix_domain_socket 插件，配置如下：</li>
                    </ol>
                    <div class="highlight highlight-source-ini"><pre><span class="pl-c"><span class="pl-c">#</span> frpc.ini</span>
<span class="pl-en">[common]</span>
<span class="pl-k">server_addr</span> = x.x.x.x
<span class="pl-k">server_port</span> = 7000

<span class="pl-en">[unix_domain_socket]</span>
<span class="pl-k">type</span> = tcp
<span class="pl-k">remote_port</span> = 6000
<span class="pl-k">plugin</span> = unix_domain_socket
<span class="pl-k">plugin_unix_path</span> = /var/run/docker.sock</pre></div>
                    <ol start="2">
                        <li>通过 curl 命令查看 docker 版本信息</li>
                    </ol>
                    <p><code>curl http://x.x.x.x:6000/version</code></p>
                    <h3><a href="#安全地暴露内网服务" aria-hidden="true" class="anchor" id="user-content-安全地暴露内网服务"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>安全地暴露内网服务</h3>
                    <p>对于某些服务来说如果直接暴露于公网上将会存在安全隐患。</p>
                    <p>使用 <strong>stcp(secret tcp)</strong> 类型的代理可以避免让任何人都能访问到要穿透的服务，但是访问者也需要运行另外一个 frpc。</p>
                    <p>以下示例将会创建一个只有自己能访问到的 ssh 服务代理。</p>
                    <p>frps 的部署步骤同上。</p>
                    <ol>
                        <li>启动 frpc，转发内网的 ssh 服务，配置如下，不需要指定远程端口：</li>
                    </ol>
                    <div class="highlight highlight-source-ini"><pre><span class="pl-c"><span class="pl-c">#</span> frpc.ini</span>
<span class="pl-en">[common]</span>
<span class="pl-k">server_addr</span> = x.x.x.x
<span class="pl-k">server_port</span> = 7000

<span class="pl-en">[secret_ssh]</span>
<span class="pl-k">type</span> = stcp
<span class="pl-c"><span class="pl-c">#</span> 只有 sk 一致的用户才能访问到此服务</span>
<span class="pl-k">sk</span> = abcdefg
<span class="pl-k">local_ip</span> = 127.0.0.1
<span class="pl-k">local_port</span> = 22</pre></div>
                    <ol start="2">
                        <li>在要访问这个服务的机器上启动另外一个 frpc，配置如下：</li>
                    </ol>
                    <div class="highlight highlight-source-ini"><pre><span class="pl-c"><span class="pl-c">#</span> frpc.ini</span>
<span class="pl-en">[common]</span>
<span class="pl-k">server_addr</span> = x.x.x.x
<span class="pl-k">server_port</span> = 7000

<span class="pl-en">[secret_ssh_vistor]</span>
<span class="pl-k">type</span> = stcp
<span class="pl-c"><span class="pl-c">#</span> stcp 的访问者</span>
<span class="pl-k">role</span> = vistor
<span class="pl-c"><span class="pl-c">#</span> 要访问的 stcp 代理的名字</span>
<span class="pl-k">server_name</span> = secret_ssh
<span class="pl-k">sk</span> = abcdefg
<span class="pl-c"><span class="pl-c">#</span> 绑定本地端口用于访问 ssh 服务</span>
<span class="pl-k">bind_addr</span> = 127.0.0.1
<span class="pl-k">bind_port</span> = 6000</pre></div>
                    <ol start="3">
                        <li>通过 ssh 访问内网机器，假设用户名为 test：</li>
                    </ol>
                    <p><code>ssh -oPort=6000 test@127.0.0.1</code></p>
                    <h3><a href="#通过-frpc-所在机器访问外网" aria-hidden="true" class="anchor" id="user-content-通过-frpc-所在机器访问外网"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>通过 frpc 所在机器访问外网</h3>
                    <p>frpc 内置了 http proxy 和 socks5 插件，可以使其他机器通过 frpc 的网络访问互联网。</p>
                    <p>frps 的部署步骤同上。</p>
                    <ol>
                        <li>启动 frpc，启用 http_proxy 或 socks5 插件(plugin 换为 socks5 即可)， 配置如下：</li>
                    </ol>
                    <div class="highlight highlight-source-ini"><pre><span class="pl-c"><span class="pl-c">#</span> frpc.ini</span>
<span class="pl-en">[common]</span>
<span class="pl-k">server_addr</span> = x.x.x.x
<span class="pl-k">server_port</span> = 7000

<span class="pl-en">[http_proxy]</span>
<span class="pl-k">type</span> = tcp
<span class="pl-k">remote_port</span> = 6000
<span class="pl-k">plugin</span> = http_proxy</pre></div>
                    <ol start="2">
                        <li>浏览器设置 http 或 socks5 代理地址为 <code>x.x.x.x:6000</code>，通过 frpc 机器的网络访问互联网。</li>
                    </ol>
                    <h2><a href="#功能说明" aria-hidden="true" class="anchor" id="user-content-功能说明"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>功能说明</h2>
                    <h3><a href="#配置文件" aria-hidden="true" class="anchor" id="user-content-配置文件"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>配置文件</h3>
                    <p>由于 frp 目前支持的功能和配置项较多，未在文档中列出的功能可以从完整的示例配置文件中发现。</p>
                    <p><a href="/IoTServ/frp/blob/master/conf/frps_full.ini">frps 完整配置文件</a></p>
                    <p><a href="/IoTServ/frp/blob/master/conf/frpc_full.ini">frpc 完整配置文件</a></p>
                    <h3><a href="#dashboard" aria-hidden="true" class="anchor" id="user-content-dashboard"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Dashboard</h3>
                    <p>通过浏览器查看 frp 的状态以及代理统计信息展示。</p>
                    <p>需要在 frps.ini 中指定 dashboard 服务使用的端口，即可开启此功能：</p>
                    <div class="highlight highlight-source-ini"><pre><span class="pl-en">[common]</span>
<span class="pl-k">dashboard_port</span> = 7500
<span class="pl-c"><span class="pl-c">#</span> dashboard 用户名密码，默认都为 admin</span>
<span class="pl-k">dashboard_user</span> = admin
<span class="pl-k">dashboard_pwd</span> = admin</pre></div>
                    <p>打开浏览器通过 <code>http://[server_addr]:7500</code> 访问 dashboard 界面，用户名密码默认为 <code>admin</code>。</p>
                    <p><a href="/IoTServ/frp/blob/master/doc/pic/dashboard.png" target="_blank"><img src="/IoTServ/frp/raw/master/doc/pic/dashboard.png" alt="dashboard" style="max-width:100%;"></a></p>
                    <h3><a href="#身份验证" aria-hidden="true" class="anchor" id="user-content-身份验证"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>身份验证</h3>
                    <p>从 v0.10.0 版本开始，所有 proxy 配置全部放在客户端(也就是之前版本的特权模式)，服务端和客户端的 common 配置中的 <code>privilege_token</code> 参数一致则身份验证通过。</p>
                    <p>需要注意的是 frpc 所在机器和 frps 所在机器的时间相差不能超过 15 分钟，因为时间戳会被用于加密验证中，防止报文被劫持后被其他人利用。</p>
                    <p>这个超时时间可以在配置文件中通过 <code>authentication_timeout</code> 这个参数来修改，单位为秒，默认值为 900，即 15 分钟。如果修改为 0，则 frps 将不对身份验证报文的时间戳进行超时校验。</p>
                    <h3><a href="#加密与压缩" aria-hidden="true" class="anchor" id="user-content-加密与压缩"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>加密与压缩</h3>
                    <p>这两个功能默认是不开启的，需要在 frpc.ini 中通过配置来为指定的代理启用加密与压缩的功能，压缩算法使用 snappy：</p>
                    <div class="highlight highlight-source-ini"><pre><span class="pl-c"><span class="pl-c">#</span> frpc.ini</span>
<span class="pl-en">[ssh]</span>
<span class="pl-k">type</span> = tcp
<span class="pl-k">local_port</span> = 22
<span class="pl-k">remote_port</span> = 6000
<span class="pl-k">use_encryption</span> = true
<span class="pl-k">use_compression</span> = true</pre></div>
                    <p>如果公司内网防火墙对外网访问进行了流量识别与屏蔽，例如禁止了 ssh 协议等，通过设置 <code>use_encryption = true</code>，将 frpc 与 frps 之间的通信内容加密传输，将会有效防止流量被拦截。</p>
                    <p>如果传输的报文长度较长，通过设置 <code>use_compression = true</code> 对传输内容进行压缩，可以有效减小 frpc 与 frps 之间的网络流量，加快流量转发速度，但是会额外消耗一些 cpu 资源。</p>
                    <h3><a href="#客户端热加载配置文件" aria-hidden="true" class="anchor" id="user-content-客户端热加载配置文件"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>客户端热加载配置文件</h3>
                    <p>当修改了 frpc 中的代理配置，可以通过 <code>frpc --reload</code> 命令来动态加载配置文件，通常会在 10 秒内完成代理的更新。</p>
                    <p>启用此功能需要在 frpc 中启用 admin 端口，用于提供 API 服务。配置如下：</p>
                    <div class="highlight highlight-source-ini"><pre><span class="pl-c"><span class="pl-c">#</span> frpc.ini</span>
<span class="pl-en">[common]</span>
<span class="pl-k">admin_addr</span> = 127.0.0.1
<span class="pl-k">admin_port</span> = 7400</pre></div>
                    <p>之后执行重启命令：</p>
                    <p><code>frpc -c ./frpc.ini --reload</code></p>
                    <p>等待一段时间后客户端会根据新的配置文件创建、更新、删除代理。</p>
                    <p><strong>需要注意的是，[common] 中的参数除了 start 外目前无法被修改。</strong></p>
                    <h3><a href="#特权模式" aria-hidden="true" class="anchor" id="user-content-特权模式"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>特权模式</h3>
                    <p>由于从 v0.10.0 版本开始，所有 proxy 都在客户端配置，原先的特权模式是目前唯一支持的模式。</p>
                    <h4><a href="#端口白名单" aria-hidden="true" class="anchor" id="user-content-端口白名单"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>端口白名单</h4>
                    <p>为了防止端口被滥用，可以手动指定允许哪些端口被使用，在 frps.ini 中通过 privilege_allow_ports 来指定：</p>
                    <div class="highlight highlight-source-ini"><pre><span class="pl-c"><span class="pl-c">#</span> frps.ini</span>
<span class="pl-en">[common]</span>
<span class="pl-k">privilege_allow_ports</span> = 2000-3000,3001,3003,4000-50000</pre></div>
                    <p>privilege_allow_ports 可以配置允许使用的某个指定端口或者是一个范围内的所有端口，以 <code>,</code> 分隔，指定的范围以 <code>-</code> 分隔。</p>
                    <h3><a href="#tcp-多路复用" aria-hidden="true" class="anchor" id="user-content-tcp-多路复用"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>TCP 多路复用</h3>
                    <p>从 v0.10.0 版本开始，客户端和服务器端之间的连接支持多路复用，不再需要为每一个用户请求创建一个连接，使连接建立的延迟降低，并且避免了大量文件描述符的占用，使 frp 可以承载更高的并发数。</p>
                    <p>该功能默认启用，如需关闭，可以在 frps.ini 和 frpc.ini 中配置，该配置项在服务端和客户端必须一致：</p>
                    <div class="highlight highlight-source-ini"><pre><span class="pl-c"><span class="pl-c">#</span> frps.ini 和 frpc.ini 中</span>
<span class="pl-en">[common]</span>
<span class="pl-k">tcp_mux</span> = false</pre></div>
                    <h3><a href="#底层通信可选-kcp-协议" aria-hidden="true" class="anchor" id="user-content-底层通信可选-kcp-协议"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>底层通信可选 kcp 协议</h3>
                    <p>从 v0.12.0 版本开始，底层通信协议支持选择 kcp 协议，在弱网环境下传输效率提升明显，但是会有一些额外的流量消耗。</p>
                    <p>开启 kcp 协议支持：</p>
                    <ol>
                        <li>在 frps.ini 中启用 kcp 协议支持，指定一个 udp 端口用于接收客户端请求：</li>
                    </ol>
                    <div class="highlight highlight-source-ini"><pre><span class="pl-c"><span class="pl-c">#</span> frps.ini</span>
<span class="pl-en">[common]</span>
<span class="pl-k">bind_port</span> = 7000
<span class="pl-c"><span class="pl-c">#</span> kcp 绑定的是 udp 端口，可以和 bind_port 一样</span>
<span class="pl-k">kcp_bind_port</span> = 7000</pre></div>
                    <ol start="2">
                        <li>在 frpc.ini 指定需要使用的协议类型，目前只支持 tcp 和 kcp。其他代理配置不需要变更：</li>
                    </ol>
                    <div class="highlight highlight-source-ini"><pre><span class="pl-c"><span class="pl-c">#</span> frpc.ini</span>
<span class="pl-en">[common]</span>
<span class="pl-k">server_addr</span> = x.x.x.x
<span class="pl-c"><span class="pl-c">#</span> server_port 指定为 frps 的 kcp_bind_port</span>
<span class="pl-k">server_port</span> = 7000
<span class="pl-k">protocol</span> = kcp</pre></div>
                    <ol start="3">
                        <li>像之前一样使用 frp，需要注意开放相关机器上的 udp 的端口的访问权限。</li>
                    </ol>
                    <h3><a href="#连接池" aria-hidden="true" class="anchor" id="user-content-连接池"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>连接池</h3>
                    <p>默认情况下，当用户请求建立连接后，frps 才会请求 frpc 主动与后端服务建立一个连接。当为指定的代理启用连接池后，frp 会预先和后端服务建立起指定数量的连接，每次接收到用户请求后，会从连接池中取出一个连接和用户连接关联起来，避免了等待与后端服务建立连接以及 frpc 和 frps 之间传递控制信息的时间。</p>
                    <p>这一功能比较适合有大量短连接请求时开启。</p>
                    <ol>
                        <li>首先可以在 frps.ini 中设置每个代理可以创建的连接池上限，避免大量资源占用，客户端设置超过此配置后会被调整到当前值：</li>
                    </ol>
                    <div class="highlight highlight-source-ini"><pre><span class="pl-c"><span class="pl-c">#</span> frps.ini</span>
<span class="pl-en">[common]</span>
<span class="pl-k">max_pool_count</span> = 5</pre></div>
                    <ol start="2">
                        <li>在 frpc.ini 中为客户端启用连接池，指定预创建连接的数量：</li>
                    </ol>
                    <div class="highlight highlight-source-ini"><pre><span class="pl-c"><span class="pl-c">#</span> frpc.ini</span>
<span class="pl-en">[common]</span>
<span class="pl-k">pool_count</span> = 1</pre></div>
                    <h3><a href="#修改-host-header" aria-hidden="true" class="anchor" id="user-content-修改-host-header"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>修改 Host Header</h3>
                    <p>通常情况下 frp 不会修改转发的任何数据。但有一些后端服务会根据 http 请求 header 中的 host 字段来展现不同的网站，例如 nginx 的虚拟主机服务，启用 host-header 的修改功能可以动态修改 http 请求中的 host 字段。该功能仅限于 http 类型的代理。</p>
                    <div class="highlight highlight-source-ini"><pre><span class="pl-c"><span class="pl-c">#</span> frpc.ini</span>
<span class="pl-en">[web]</span>
<span class="pl-k">type</span> = http
<span class="pl-k">local_port</span> = 80
<span class="pl-k">custom_domains</span> = test.yourdomain.com
<span class="pl-k">host_header_rewrite</span> = dev.yourdomain.com</pre></div>
                    <p>原来 http 请求中的 host 字段 <code>test.yourdomain.com</code> 转发到后端服务时会被替换为 <code>dev.yourdomain.com</code>。</p>
                    <h3><a href="#获取用户真实-ip" aria-hidden="true" class="anchor" id="user-content-获取用户真实-ip"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>获取用户真实 IP</h3>
                    <p>目前只有 <strong>http</strong> 类型的代理支持这一功能，可以通过用户请求的 header 中的 <code>X-Forwarded-For</code> 和 <code>X-Real-IP</code> 来获取用户真实 IP。</p>
                    <p><strong>需要注意的是，目前只在每一个用户连接的第一个 HTTP 请求中添加了这两个 header。</strong></p>
                    <h3><a href="#通过密码保护你的-web-服务" aria-hidden="true" class="anchor" id="user-content-通过密码保护你的-web-服务"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>通过密码保护你的 web 服务</h3>
                    <p>由于所有客户端共用一个 frps 的 http 服务端口，任何知道你的域名和 url 的人都能访问到你部署在内网的 web 服务，但是在某些场景下需要确保只有限定的用户才能访问。</p>
                    <p>frp 支持通过 HTTP Basic Auth 来保护你的 web 服务，使用户需要通过用户名和密码才能访问到你的服务。</p>
                    <p>该功能目前仅限于 http 类型的代理，需要在 frpc 的代理配置中添加用户名和密码的设置。</p>
                    <div class="highlight highlight-source-ini"><pre><span class="pl-c"><span class="pl-c">#</span> frpc.ini</span>
<span class="pl-en">[web]</span>
<span class="pl-k">type</span> = http
<span class="pl-k">local_port</span> = 80
<span class="pl-k">custom_domains</span> = test.yourdomain.com
<span class="pl-k">http_user</span> = abc
<span class="pl-k">http_pwd</span> = abc</pre></div>
                    <p>通过浏览器访问 <code>http://test.yourdomain.com</code>，需要输入配置的用户名和密码才能访问。</p>
                    <h3><a href="#自定义二级域名" aria-hidden="true" class="anchor" id="user-content-自定义二级域名"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>自定义二级域名</h3>
                    <p>在多人同时使用一个 frps 时，通过自定义二级域名的方式来使用会更加方便。</p>
                    <p>通过在 frps 的配置文件中配置 <code>subdomain_host</code>，就可以启用该特性。之后在 frpc 的 http、https 类型的代理中可以不配置 <code>custom_domains</code>，而是配置一个 <code>subdomain</code> 参数。</p>
                    <p>只需要将 <code>*.{subdomain_host}</code> 解析到 frps 所在服务器。之后用户可以通过 <code>subdomain</code> 自行指定自己的 web 服务所需要使用的二级域名，通过 <code>{subdomain}.{subdomain_host}</code> 来访问自己的 web 服务。</p>
                    <div class="highlight highlight-source-ini"><pre><span class="pl-c"><span class="pl-c">#</span> frps.ini</span>
<span class="pl-en">[common]</span>
<span class="pl-k">subdomain_host</span> = frps.com</pre></div>
                    <p>将泛域名 <code>*.frps.com</code> 解析到 frps 所在服务器的 IP 地址。</p>
                    <div class="highlight highlight-source-ini"><pre><span class="pl-c"><span class="pl-c">#</span> frpc.ini</span>
                    <span class="pl-en">[web]</span>
                    <span class="pl-k">type</span> = http
                    <span class="pl-k">local_port</span> = 80
                    <span class="pl-k">subdomain</span> = test</pre></div>
                    <p>frps 和 fprc 都启动成功后，通过 <code>test.frps.com</code> 就可以访问到内网的 web 服务。</p>
                    <p>需要注意的是如果 frps 配置了 <code>subdomain_host</code>，则 <code>custom_domains</code> 中不能是属于 <code>subdomain_host</code> 的子域名或者泛域名。</p>
                    <p>同一个 http 或 https 类型的代理中 <code>custom_domains</code>  和 <code>subdomain</code> 可以同时配置。</p>
                    <h3><a href="#url-路由" aria-hidden="true" class="anchor" id="user-content-url-路由"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>URL 路由</h3>
                    <p>frp 支持根据请求的 URL 路径路由转发到不同的后端服务。</p>
                    <p>通过配置文件中的 <code>locations</code> 字段指定一个或多个 proxy 能够匹配的 URL 前缀(目前仅支持最大前缀匹配，之后会考虑正则匹配)。例如指定 <code>locations = /news</code>，则所有 URL 以 <code>/news</code> 开头的请求都会被转发到这个服务。</p>
                    <div class="highlight highlight-source-ini"><pre><span class="pl-c"><span class="pl-c">#</span> frpc.ini</span>
                    <span class="pl-en">[web01]</span>
                    <span class="pl-k">type</span> = http
                    <span class="pl-k">local_port</span> = 80
                    <span class="pl-k">custom_domains</span> = web.yourdomain.com
                    <span class="pl-k">locations</span> = /

                    <span class="pl-en">[web02]</span>
                    <span class="pl-k">type</span> = http
                    <span class="pl-k">local_port</span> = 81
                    <span class="pl-k">custom_domains</span> = web.yourdomain.com
                    <span class="pl-k">locations</span> = /news,/about</pre></div>
                    <p>按照上述的示例配置后，<code>web.yourdomain.com</code> 这个域名下所有以 <code>/news</code> 以及 <code>/about</code> 作为前缀的 URL 请求都会被转发到 web02，其余的请求会被转发到 web01。</p>
                    <h3><a href="#通过代理连接-frps" aria-hidden="true" class="anchor" id="user-content-通过代理连接-frps"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>通过代理连接 frps</h3>
                    <p>在只能通过代理访问外网的环境内，frpc 支持通过 HTTP PROXY 和 frps 进行通信。</p>
                    <p>可以通过设置 <code>HTTP_PROXY</code> 系统环境变量或者通过在 frpc 的配置文件中设置 <code>http_proxy</code> 参数来使用此功能。</p>
                    <p>仅在 <code>protocol = tcp</code> 时生效。</p>
                    <div class="highlight highlight-source-ini"><pre><span class="pl-c"><span class="pl-c">#</span> frpc.ini</span>
                    <span class="pl-en">[common]</span>
                    <span class="pl-k">server_addr</span> = x.x.x.x
                    <span class="pl-k">server_port</span> = 7000
                    <span class="pl-k">http_proxy</span> = http://user:pwd@192.168.1.128:8080</pre></div>
                    <h3><a href="#插件" aria-hidden="true" class="anchor" id="user-content-插件"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>插件</h3>
                    <p>默认情况下，frpc 只会转发请求到本地 tcp 或 udp 端口。</p>
                    <p>插件模式是为了在客户端提供更加丰富的功能，目前内置的插件有 <strong>unix_domain_socket</strong>、<strong>http_proxy</strong>、<strong>socks5</strong>。具体使用方式请查看<a href="#%E4%BD%BF%E7%94%A8%E7%A4%BA%E4%BE%8B">使用示例</a>。</p>
                    <p>通过 <code>plugin</code> 指定需要使用的插件，插件的配置参数都以 <code>plugin_</code> 开头。使用插件后 <code>local_ip</code> 和 <code>local_port</code> 不再需要配置。</p>
                    <p>使用 <strong>http_proxy</strong> 插件的示例:</p>
                    <div class="highlight highlight-source-ini"><pre><span class="pl-c"><span class="pl-c">#</span> frpc.ini</span>
                    <span class="pl-en">[http_proxy]</span>
                    <span class="pl-k">type</span> = tcp
                    <span class="pl-k">remote_port</span> = 6000
                    <span class="pl-k">plugin</span> = http_proxy
                    <span class="pl-k">plugin_http_user</span> = abc
                    <span class="pl-k">plugin_http_passwd</span> = abc</pre></div>
                    <p><code>plugin_http_user</code> 和 <code>plugin_http_passwd</code> 即为 <code>http_proxy</code> 插件可选的配置参数。</p>
                    <h2><a href="#开发计划" aria-hidden="true" class="anchor" id="user-content-开发计划"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>开发计划</h2>
                    <p>计划在后续版本中加入的功能与优化，排名不分先后，如果有其他功能建议欢迎在 <a href="https://github.com/fatedier/frp/issues">issues</a> 中反馈。</p>
                    <ul>
                        <li>frps 记录 http 请求日志。</li>
                        <li>frps 支持直接反向代理，类似 haproxy。</li>
                        <li>frpc 支持负载均衡到后端不同服务。</li>
                        <li>frpc 支持直接作为 webserver 访问指定静态页面。</li>
                        <li>支持 udp 打洞的方式，提供两边内网机器直接通信，流量不经过服务器转发。</li>
                        <li>集成对 k8s 等平台的支持。</li>
                    </ul>
                    <h2><a href="#为-frp-做贡献" aria-hidden="true" class="anchor" id="user-content-为-frp-做贡献"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>为 frp 做贡献</h2>
                    <p>frp 是一个免费且开源的项目，我们欢迎任何人为其开发和进步贡献力量。</p>
                    <ul>
                        <li>在使用过程中出现任何问题，可以通过 <a href="https://github.com/fatedier/frp/issues">issues</a> 来反馈。</li>
                        <li>Bug 的修复可以直接提交 Pull Request 到 dev 分支。</li>
                        <li>如果是增加新的功能特性，请先创建一个 issue 并做简单描述以及大致的实现方法，提议被采纳后，就可以创建一个实现新特性的 Pull Request。</li>
                        <li>欢迎对说明文档做出改善，帮助更多的人使用 frp，特别是英文文档。</li>
                        <li>贡献代码请提交 PR 至 dev 分支，master 分支仅用于发布稳定可用版本。</li>
                        <li>如果你有任何其他方面的问题，欢迎反馈至 <a href="mailto:fatedier@gmail.com">fatedier@gmail.com</a> 共同交流。</li>
                    </ul>
                    <p><strong>提醒：和项目相关的问题最好在 <a href="https://github.com/fatedier/frp/issues">issues</a> 中反馈，这样方便其他有类似问题的人可以快速查找解决方法，并且也避免了我们重复回答一些问题。</strong></p>
                    <h2><a href="#捐助" aria-hidden="true" class="anchor" id="user-content-捐助"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>捐助</h2>
                    <p>如果您觉得 frp 对你有帮助，欢迎给予我们一定的捐助来维持项目的长期发展。</p>
                    <p>frp 交流群：606194980 (QQ 群号)</p>
                </article>
            </div>
            <h2>
                完整Frpc配置(frpc.ini)：
            </h2>
            <textarea style="width: 900px;height: 800px">
                # [common] is integral section
                [common]
                # A literal address or host name for IPv6 must be enclosed
                # in square brackets, as in "[::1]:80", "[ipv6-host]:http" or "[ipv6-host%zone]:80"
                server_addr = 0.0.0.0
                server_port = 7000

                # if you want to connect frps by http proxy, you can set http_proxy here or in global environment variables
                # it only works when protocol is tcp
                # http_proxy = http://user:pwd@192.168.1.128:8080

                # console or real logFile path like ./frpc.log
                log_file = ./frpc.log

                # trace, debug, info, warn, error
                log_level = info

                log_max_days = 3

                # for authentication
                privilege_token = 12345678

                # set admin address for control frpc's action by http api such as reload
                admin_addr = 127.0.0.1
                admin_port = 7400
                admin_user = admin
                admin_pwd = admin

                # connections will be established in advance, default value is zero
                pool_count = 5

                # if tcp stream multiplexing is used, default is true, it must be same with frps
                tcp_mux = true

                # your proxy name will be changed to {user}.{proxy}
                user = your_name

                # decide if exit program when first login failed, otherwise continuous relogin to frps
                # default is true
                login_fail_exit = true

                # communication protocol used to connect to server
                # now it supports tcp and kcp, default is tcp
                protocol = tcp

                # proxy names you want to start divided by ','
                # default is empty, means all proxies
                # start = ssh,dns

                # heartbeat configure, it's not recommended to modify the default value
                # the default value of heartbeat_interval is 10 and heartbeat_timeout is 90
                # heartbeat_interval = 30
                # heartbeat_timeout = 90

                # ssh is the proxy name same as server's configuration
                # if user in [common] section is not empty, it will be changed to {user}.{proxy} such as your_name.ssh
                [ssh]
                # tcp | udp | http | https, default is tcp
                type = tcp
                local_ip = 127.0.0.1
                local_port = 22
                # true or false, if true, messages between frps and frpc will be encrypted, default is false
                use_encryption = false
                # if true, message will be compressed
                use_compression = false
                # remote port listen by frps
                remote_port = 6001

                [dns]
                type = udp
                local_ip = 114.114.114.114
                local_port = 53
                remote_port = 6002
                use_encryption = false
                use_compression = false

                # Resolve your domain names to [server_addr] so you can use http://web01.yourdomain.com to browse web01 and http://web02.yourdomain.com to browse web02
                [web01]
                type = http
                local_ip = 127.0.0.1
                local_port = 80
                use_encryption = false
                use_compression = true
                # http username and password are safety certification for http protocol
                # if not set, you can access this custom_domains without certification
                http_user = admin
                http_pwd = admin
                # if domain for frps is frps.com, then you can access [web01] proxy by URL http://test.frps.com
                subdomain = web01
                custom_domains = web02.yourdomain.com
                # locations is only useful for http type
                locations = /,/pic
                host_header_rewrite = example.com

                [web02]
                type = https
                local_ip = 127.0.0.1
                local_port = 8000
                use_encryption = false
                use_compression = false
                subdomain = web01
                custom_domains = web02.yourdomain.com

                [plugin_unix_domain_socket]
                type = tcp
                remote_port = 6003
                # if plugin is defined, local_ip and local_port is useless
                # plugin will handle connections got from frps
                plugin = unix_domain_socket
                # params set with prefix "plugin_" that plugin needed
                plugin_unix_path = /var/run/docker.sock

                [plugin_http_proxy]
                type = tcp
                remote_port = 6004
                plugin = http_proxy
                plugin_http_user = abc
                plugin_http_passwd = abc

                [secret_tcp]
                # If the type is secret tcp, remote_port is useless
                # Who want to connect local port should deploy another frpc with stcp proxy and role is vistor
                type = stcp
                # sk used for authentication for vistors
                sk = abcdefg
                local_ip = 127.0.0.1
                local_port = 22
                use_encryption = false
                use_compression = false

                # user of frpc should be same in both stcp server and stcp vistor
                [secret_tcp_vistor]
                # frpc role vistor -> frps -> frpc role server
                role = vistor
                type = stcp
                # the server name you want to vistor
                server_name = secret_tcp
                sk = abcdefg
                # connect this address to vistor stcp server
                bind_addr = 127.0.0.1
                bind_port = 9000
                use_encryption = false
                use_compression = false

            </textarea>
        </div>
        <br>
    </div>
    <div class="col-md-3 column">
    </div>
</div>
<footer>
    <div class="container">
        <div class="row">
            <div class="col-sm-2">
                <h6>Copyright &copy;IoTServ</h6>
            </div>

            <div class="col-sm-4">
                <h6>关于我们</h6>
                <p>
                    IoTServ.com
                </p>
            </div>

            <div class="col-sm-2">
                <h6>导航</h6>
                <ul class="unstyled">
                    <li><a href="">主页</a></li>
                    <li><a href="">服务</a></li>
                    <li><a href="">链接</a></li>
                    <li><a href="">联系我们</a></li>
                </ul>
            </div>

            <div class="col-sm-2">
                <h6>Follow us</h6>
                <ul class="unstyled">
                    <li><a href="">微博</a></li>
                    <li><a href="">微信</a></li>
                    <li><a href="">来往</a></li>
                </ul>
            </div>

            <div class="col-sm-2">
                <h6>本网站由<span class="glyphicon glyphicon-heart"></span>Farry制作</h6>
            </div>
        </div>
    </div>
</footer>

<script src="//apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js"></script>
<script src="//apps.bdimg.com/libs/bootstrap/3.3.4/js/bootstrap.min.js"></script>
</body>
</html>
